!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";function t(e,t,a){var n,i,o=a,r=function(t){var a=o.includes(parseInt(t.id))?" checked":"",n='<input type="checkbox" class="form-control checkbox" name="'+e+'" value="'+t.id+'"'+a+">";return n+='<label for="'+t.id+'">'+t.text+"</label>"};return i=[],(n=o).length>0&&n.forEach((function(e){i.push(parseInt(e))})),o=i,function t(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0===n?'<ul class="list '+e+'">':'<ul class="children">';return a.forEach((function(e){var a=!1;e.hasOwnProperty("subcat")&&Array.isArray(e.subcat)&&e.subcat.length&&(a=!0),i+="<li>",i+=r(e),a&&(i+=t(e.subcat,1)),i+="</li>"})),i+="</ul>"}(t)}var a={},i={},o={},r={},l={},s={},c=pro_woo_filter,d=c.setting_fields,p=c.translated_text,u="product",f=!1;function m(e,t,a){var n=document.querySelector(e);n.classList.add("animated",t),n.addEventListener("animationend",(function e(){n.classList.remove("animated",t),n.removeEventListener("animationend",e),"function"==typeof a&&a()}))}function _(){return'<div class="alert-danger" role="alert">'+p.unique_field+"</div>"}function v(){return'<span class="alert-message"><strong>Erorr: </strong>'+p.ajax_fail+"</span>"}function h(){return 0!==e(".panel-group").find(".item-panel").length?"item_panel":"setting_panel"}e.fn.getType=function(){return"INPUT"==this[0].tagName?this[0].type.toLowerCase():this[0].tagName.toLowerCase()};var g={init:function(t,a){return!!e.isEmptyObject(i)||!g.getUrlKeys(a).includes(t)},getUrlKeys:function(e){for(var t=[],a=0,n=Object.keys(i);a<n.length;a++){var o=n[a],r=i[o];o!==e&&(t.push(r.url_key),r.hasOwnProperty("url_key_min_price")&&t.push(r.url_key_min_price),r.hasOwnProperty("url_key_max_price")&&t.push(r.url_key_max_price))}return t}};function y(e){return!!i.hasOwnProperty(e)&&i[e]}var b=0,w={generateFilterItemID:function(){return"id-"+e(".filter-item").length},generateFilterItems:function(e){for(var t="",a=0,n=Object.keys(e);a<n.length;a++){var o=e[n[a]];i[b]=o,"column"===o.item_type||(t+=w.addNewItem(o.item_type,b,o.title),b++)}return t},createFilterItems:function(e){var t=w.generateFilterItems(e);w.appendItem(t)},addNewItem:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="";return""===a&&(a="new filter"),n+='<div class="filter-item" data-filter-id="'+t+'"><div class="filter-header">',n+='<div class="head-title"><span class="filter-title text-bold">',n+=a,n+='</span><span class="filter-type">'+e+"</span>",n+="</div>",n+='<div class="btn-actions">',n+='<span class="btn-link edit-action">'+p.edit+"</span>",n+='<span class="btn-link remove-action">'+p.remove+"</span>",n+="</div>",n+="</div></div>"},removeItem:function(t){var a=[],o=t.closest(".filter-item").attr("data-filter-id");a.push(o),delete i[o];var r=e(t).closest(".filter-item").attr("data-layout");if("undefined"!==n(r)&&!1!==r&&"column"===r){var l=e(t).closest(".filter-item").find(".column-inner").children(".filter-item");e(l).each((function(t,n){var o=e(n).attr("data-filter-id");a.push(o),delete i[o]}))}t.closest(".filter-item").remove(),w.initSortEvent(),k.displayPanel("removeitem","",a)},appendItem:function(t){e(".append-filter-items").append(t),w.initSortEvent()},initSortEvent:function(){e(".filters-list").hasClass("ui-sortable")?e(".filters-list").sortable("refresh"):e(".filters-list").sortable({handle:".filter-header",connectWith:".group-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(t,a){var n=e(this).width();e(a.helper).width(n)}}),e(".append-filter-items .group-list").length>0&&e(".group-list").each((function(){e(this).hasClass("ui-sortable")?e(this).sortable("refresh"):e(this).sortable({handle:".filter-header",connectWith:".filters-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(t,a){var n=e(this).width();e(a.helper).width(n)}})}))},addActiveCssClass:function(t){e(".filters-list").find("[data-filter-id="+t+"]").addClass("active-item")},removeActiveCssClass:function(){e(".filters-list .filter-item").removeClass("active-item")}};var x={config:{},init:function(t){x.config={field:"",panelType:"",FilterItemID:"",defaultValues:[]},e.extend(x.config,t);var a="";switch(x.config.field.type){case"text":a=x.inputTextField();break;case"number":a=x.inputTextNumber();break;case"radio":a=x.inputRadioButton();break;case"dropdown":a=x.dropdownMenuField();break;case"sourceofoptions":a=x.sourceOfOptions();break;case"multicheckbox":a=x.multicheckboxField();break;case"switchbutton":a=x.switchButtonField();break;case"ajaxdropdown":a=x.ajaxdropdown();break;case"ajaxdropdownselect2":a=x.ajaxdropdownselect2();break;case"ajaxmulticheckboxlist":a=x.ajaxMultiCheckboxList();break;case"depends_on":a=x.dependsOn();break;case"boxlistlabel":a=x.boxlistlabel()}return a},fieldWrapStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&(e=x.config.field);var t='<div class="control-group';return t+="radio"===e.type?" inline-radio-buttons":"",t+="ajaxcolor"===e.type?" no-padding":"",t+='">',t+='<div class="control-label">',t+='<span class="label-text">',t+=e.title,e.hasOwnProperty("required")&&"true"===e.required&&(t+='<abbr class="required" title="required">*</abbr>'),t+="</span>",e.hasOwnProperty("description")&&""!==e.description&&(t+='<span class="description">'+e.description+"</span>"),t+="</div>",t+='<div class="control-content">'},fieldWrapEnd:function(){return"</div></div>"},inputTextField:function(){var e=x.config.field,t=x.config.defaultValues,a='<input type="text" name="'+e.param_name+'"';return a+=' class="form-control full-width text',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(a+=" "+e.cssclass),a+='"',t.hasOwnProperty(e.param_name)?a+=' value="'+t[e.param_name]+'"':e.hasOwnProperty("default")?a+=' value="'+e.default+'"':a+=' value=""',e.hasOwnProperty("placeholder")&&""!==e.placeholder&&(a+=' placeholder="'+e.placeholder+'"'),e.hasOwnProperty("required")&&"true"===e.required&&(a+=' aria-required="true"'),a+="/>",x.fieldWrapStart()+a+x.fieldWrapEnd()},inputTextNumber:function(){var e=x.config.field,t=x.config.defaultValues,a='<input type="number" name="'+e.param_name+'"';return a+=' class="form-control number',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(a+=" "+e.cssclass),a+='"',t.hasOwnProperty(e.param_name)?a+=' value="'+t[e.param_name]+'"':e.hasOwnProperty("default")?a+=' value="'+e.default+'"':a+=' value=""',e.hasOwnProperty("required")&&"true"===e.required&&(a+=' aria-required="true"'),e.hasOwnProperty("min")&&(a+=' min="'+e.min+'"'),e.hasOwnProperty("max")&&(a+=' max="'+e.max+'"'),a+="/>",x.fieldWrapStart()+a+x.fieldWrapEnd()},inputRadioButton:function(){var e=x.config.field,t=x.config.defaultValues,a="",n="",i=t.hasOwnProperty(e.param_name)?t[e.param_name]:e.default,o=!1;return e.hasOwnProperty("display")&&"list"===e.display&&(o=!0,a+='<ul class="radio-list '+e.param_name+'">'),e.options.forEach((function(t){n="",i===t.id&&(n=" checked"),o&&(a+="<li>"),a+='<span class="pwf-radio-item"><input type="radio" name="'+e.param_name+'" value="'+t.id+'"'+n+'> <label for="'+t.id+'">'+t.text+"</label></span>",o&&(a+="</li>")})),o&&(a+="</ul>"),x.fieldWrapStart()+a+x.fieldWrapEnd()},dropdownMenuField:function(){var t=x.config.field,a=x.config.defaultValues,n="",i="";return a.hasOwnProperty(t.param_name)?i=a[t.param_name]:t.hasOwnProperty("default")&&(i=t.default),n+='<select name="'+t.param_name+'"',n+=' class="form-control full-width dropdown',t.hasOwnProperty("cssclass")&&""!==t.cssclass&&(n+=" "+t.cssclass),e.isEmptyObject(t.options)&&(n+=" pwf-hidden"),n+='"',!e.isEmptyObject(t.options)&&t.hasOwnProperty("required")&&"true"===t.required&&(n+=' aria-required="true"'),n+=">",t.options.forEach((function(e){var t=e.text;n+='<option value ="'+e.id+'"',e.hasOwnProperty("is_pro")&&"true"===e.is_pro&&(n+=" disabled",t+=" - PRO"),n+=e.id==i?" selected":"",n+=">"+t+"</option>"})),n+="</select>",e.isEmptyObject(t.options)&&(n+="<ul><li>"+p.no_option+"</li></ul>"),x.fieldWrapStart()+n+x.fieldWrapEnd()},sourceOfOptions:function(){var e;x.config.panelType;var t,i=c.source_of_options;if(""===u?u=e=a.post_type:e=u,"undefined"===n(e)&&(u=e="product"),"product"===e){"checkboxlist"===x.config.panelType?t=["attribute","category","tag","taxonomy","stock_status","orderby","author","meta","on_sale","featured"]:["radiolist","dropdownlist"].includes(x.config.panelType)&&(t=["attribute","category","tag","taxonomy","stock_status","orderby","author","meta"])}else t=["taxonomy","meta","author"];var o=x.config.field,r=x.config.defaultValues,l="",s="";return r.hasOwnProperty(o.param_name)?s=r[o.param_name]:o.hasOwnProperty("default")&&(s=o.default),l+='<select name="'+o.param_name+'"',l+=' class="form-control full-width dropdown',o.hasOwnProperty("cssclass")&&""!==o.cssclass&&(l+=" "+o.cssclass),l+='"',l+=">",i.forEach((function(a){"true"===a.is_pro&&(a.text=a.text+" - PRO"),"product"===e?(l+='<option value ="'+a.id+'"',"true"===a.is_pro?l+=" disabled":t.includes(a.id)?l+=a.id==s?" selected":"":l+=" disabled",l+=">"+a.text+"</option>"):t.includes(a.id)&&(l+='<option value ="'+a.id+'"',"true"===a.is_pro&&(l+=" disabled"),l+=a.id==s?" selected":"",l+=">"+a.text+"</option>")})),l+="</select>",x.fieldWrapStart()+l+x.fieldWrapEnd()},multicheckboxField:function(){var e=x.config.field,t=x.config.defaultValues,a="",n=[],i='<div class="check-box-list"><ul class="list '+e.param_name+'">';return t.hasOwnProperty(e.param_name)&&""!==t[e.param_name]?n=t[e.param_name]:e.hasOwnProperty("default")&&(n=e.default),e.options.forEach((function(t){a=n.includes(t.id)?" checked":"",i+='<li><input type="checkbox" class="form-control checkbox" name="'+e.param_name+'" value="'+t.id+'"'+a,e.hasOwnProperty("required")&&"true"===e.required&&(i+=' aria-required="true"'),i+='> <label for="'+t.id+'">'+t.text+"</label></li>"})),i+="</ul></div>",x.fieldWrapStart()+i+x.fieldWrapEnd()},switchButtonField:function(){var e=x.config.field,t=x.config.defaultValues,a="",n="",i="ckbx-style-15 switch-btn";return e.hasOwnProperty("is_pro")&&"true"===e.is_pro&&(i+=" pwf-switch-btn-disabled"),t.hasOwnProperty(e.param_name)?n="on"===t[e.param_name]?" checked":"":e.hasOwnProperty("default")&&"on"===e.default&&(n=" checked"),a+='<div class="'+i+'">',a+='<input id="pwf-'+e.param_name+'" type="checkbox" name="'+e.param_name+'" class="form-control checkbox-switch-field',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(a+=" "+e.cssclass),a+='"'+n,e.hasOwnProperty("is_pro")&&"true"===e.is_pro&&(a+=" disabled"),a+='><label for="pwf-'+e.param_name+'" class="slider-btn"></label>',e.hasOwnProperty("is_pro")&&"true"===e.is_pro&&(a+='<span class="pwf-pro-text">PRO</span>'),a+="</div>",x.fieldWrapStart()+a+x.fieldWrapEnd()},ajaxdropdown:function(){var e='<div class="dropdown-list ajax-dropdown-field-'+x.config.field.param_name+'"></div>';return x.fieldWrapStart()+e+x.fieldWrapEnd()},ajaxdropdownselect2:function(){var t=x.config.field,a=x.config.defaultValues,n="",i=[];return a.hasOwnProperty(t.param_name)&&""!==a[t.param_name]?i=a[t.param_name]:t.hasOwnProperty("default")&&(i=t.default),n+='<select name="'+t.param_name+'"',n+=' class="form-control full-width dropdown pwf-select2',t.hasOwnProperty("cssclass")&&""!==t.cssclass&&(n+=" "+t.cssclass),e.isEmptyObject(t.options)&&(n+=" pwf-hidden"),n+='"',!e.isEmptyObject(t.options)&&t.hasOwnProperty("required")&&"true"===t.required&&(n+=' aria-required="true"'),n+=' multiple="multiple">',t.options.forEach((function(e){n+='<option value ="'+e.id+'"',n+=i.includes(e.id)?" selected":"",n+=">"+e.text+"</option>"})),n+="</select>",e.isEmptyObject(t.options)&&(n+="<ul><li>"+p.no_option+"</li></ul>"),x.fieldWrapStart()+n+x.fieldWrapEnd()},ajaxMultiCheckboxList:function(){var e='<div class="check-box-list ajax-field-'+x.config.field.param_name+'"></div>';return x.fieldWrapStart()+e+x.fieldWrapEnd()},ajaxdropdownfield:function(e,t,a){var n="";return n+='<select name="'+a+'"',n+=' class="form-control full-width dropdown"',n+=">",e.forEach((function(e){n+='<option value ="'+e.id+'"',n+=e.id==t?" selected":"",n+=">"+e.text+"</option>"})),n+="</select>"},dependsOn:function(){var t=x.config.field,a="",n=[];a+='<select name="'+t.param_name+'"',a+=' class="form-control full-width dropdown pwf-select2 depends-on-field" multiple="multiple" disabled>';var i=[];return i.forEach((function(e){a+='<option value ="'+e+'"',a+=n.includes(e)?" selected":"",a+=">"+e+"</option>"})),a+="</select>",e.isEmptyObject(i)&&(a+='<ul class="pwf-depends-on-pro"><li>PRO</li></ul>'),x.fieldWrapStart()+a+x.fieldWrapEnd()}},k={config:{},init:function(t){return k.config={panelType:"",FilterItemID:"",defaultValues:[],requireValidate:"false",displayVisualTab:!1,predefinedPanel:""},e.extend(k.config,t),k.panelTemplate()},getPanelFields:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=[],n=[],i=pro_woo_filter.panel_feilds;""===t&&(t=k.config.panelType),i.forEach((function(i){-1!=e.inArray(t,i.panel)&&("general"===i.group?a.push(i):"visual"===i.group&&n.push(i))}));var o={general:a,visual:n};return o},panelTemplate:function(){var e="",t=k.getPanelFields(),a=t.general,n=t.visual;Array.isArray(n)&&n.length&&(k.config.displayVisualTab=!0);var i={panelType:k.config.panelType,defaultValues:k.config.defaultValues};return e+=k.panelHeader(),e+=k.tabStartGeneral(),a.forEach((function(t){i.field=t,i.defaultValues=k.config.defaultValues,i.defaultValues.length<1&&("radiolist"===k.config.panelType&&"stockstatus"===k.config.predefinedPanel&&("title"===t.param_name&&(i.defaultValues={title:"Stock status"}),"url_key"===t.param_name&&(i.defaultValues={url_key:"stock-status"}),"source_of_options"===t.param_name&&(i.defaultValues={source_of_options:"stock_status"})),"checkboxlist"===k.config.panelType&&"productcategories"===k.config.predefinedPanel&&("title"===t.param_name&&(i.defaultValues={title:"Product categories"}),"url_key"===t.param_name&&(i.defaultValues={url_key:"product-category"})),"priceslider"===k.config.panelType&&"url_key"===t.param_name&&(i.defaultValues={url_key:"price"})),e+=x.init(i)})),e+=k.tabEndWrap(),k.config.displayVisualTab&&(e+=k.tabStartVisual(),n.forEach((function(t){i.field=t,e+=x.init(i)})),e+=k.tabEndWrap()),e+=k.panelFooter()},panelHeader:function(){var e="";return e+='<div class="panel-item item-panel postbox status-active-panel panel-'+k.config.panelType+'" data-filter-panel-id="'+k.config.FilterItemID+'" data-required-validate="'+k.config.requireValidate+'" data-panel-type="'+k.config.panelType+'">',e+='<div class="panel-container">',e+='<div class="panel-header">',e+='<div class="wrap-title"><h2 class="panel-title"><span class="link-back">< '+p.btn_back+"</span>"+k.config.panelType+"</h2></div>",e+='<div class="tabs-nav">',e+='<span class="nav-tab-heading nav-general active-tab" data-tab-id="general">'+p.general+"</span>",k.config.displayVisualTab&&(e+='<span class="nav-tab-heading nav-selectors" data-tab-id="visual">'+p.visual+"</span>"),e+="</div>",e+="</div>",e+='<div class="inside">',e+='<form class="option-panel-form">',e+='<div class="wrap-tabs">'},panelFooter:function(){var e="",t="false"===k.config.requireValidate?" disabled":"";return e="</div></form>",e+='<div class="panel-nav">',e+='<button class="button reset-panel-button">'+p.btn_reset+"</button>",e+='<button class="button apply-panel-button"'+t+">"+p.btn_apply+"</button>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"},tabStartGeneral:function(){return'<div class="tab-content active-tab" data-tab-id="general">'},tabStartVisual:function(){return'<div class="tab-content" data-tab-id="visual">'},tabEndWrap:function(){return"</div>"},editPanel:function(t){if(j.processingPanel()){var a="",n=[],i=e(t).closest(".filter-item").attr("data-filter-id"),o=y(i);if(o){if(n=o,s.hasOwnProperty(i))a=s[i];else{var r={panelType:n.item_type,FilterItemID:i,defaultValues:n,requireValidate:"false",predefinedPanel:""};a=k.init(r)}k.displayPanel("edititem",a,i)}}},apply_panel_button:function(){j.processingPanel()},backLinkButton:function(){k.displayPanel("backfromeditpanel")},resetPanel:function(){var t=h();if("item_panel"===t){var a=e(".panel-group .item-panel"),n=e(a).attr("data-panel-type"),i=e(a).attr("data-filter-panel-id"),o=k.getPanelFields(n),r=o.general,l=o.visual,s=e.merge(r,l);s.forEach((function(t){if("multicheckbox"===t.type||"ajaxmulticheckboxlist"===t.type){var a=t.default;e(t.options).each((function(n,i){e("[name="+t.param_name+"]").prop("checked",!1),-1!=e.inArray(i.id,a)&&e('[name="'+t.param_name+'"]').prop("checked",!0).trigger("change")}))}else"switchbutton"===t.type?(e("[name="+t.param_name+"]").prop("checked",!1),t.hasOwnProperty("default")&&"on"===t.default&&e('[name="'+t.param_name+'"]').prop("checked",!0).trigger("change")):"radio"===t.type?(e("[name="+t.param_name+"]").checked=!1,e(t.options).each((function(a,n){t.default==n.id&&e('[name="'+t.param_name+'"][value="'+n.id+'"]').prop("checked",!0).trigger("change")}))):e('.option-panel-form [name="'+t.param_name+'"]').val(t.default).trigger("change")})),e(".filter-items-panel").find("[data-filter-id="+i+"]").find(".filter-title").text(s.title),e("ul.exclude").closest(".control-group").slideUp("fast"),e("ul.include").closest(".control-group").slideUp("fast"),j.addAttributeRequiredValidate(t,"true")}else{var c=e(".setting-panel-form :input");e(c).each((function(t,a){if(e(a).hasClass("text"))e(a).val(e(a).attr("data-default-value"));else if(e(a).hasClass("checkbox"))Array.isArray(a)&&a.length?e(a).each((function(t,a){"checked"===e(a).attr("data-default-value")?e(a).prop("checked",!0):e(a).prop("checked",!1)})):"checked"===e(a).attr("data-default-value")?e(a).prop("checked",!0):e(a).prop("checked",!1);else if(e(a).hasClass("dropdown"))e(a).val(e(a).attr("data-default-value"));else if(e(a).hasClass("checkbox-switch-field")){if(e(a).hasClass("disable-switch-button"))return!1;"on"===e(a).attr("data-default-value")?e(a).prop("checked",!0):e(a).prop("checked",!1)}})),j.addAttributeRequiredValidate(t,"true")}},displayPanel:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o="slideOutRight",r="slideInRight";if(e("body").hasClass("rtl")&&(o="slideOutLeft",r="slideInLeft"),"backfromfiltertypepanel"===t)w.removeActiveCssClass(),m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").removeClass("status-unactive-panel").addClass("status-active-panel"),m(".status-active-panel",r,(function(){}))}));else if("backfromeditpanel"===t)j.processingPanel()&&(w.removeActiveCssClass(),m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),m(".status-active-panel",r,(function(){}))})));else if("removeitem"===t){var l="";if(Array.isArray(n)&&n.length)for(var s=0;s<n.length;s++)if(0!==e(".panel-group").find('[data-filter-panel-id="'+n[s]+'"]').length){l=n[s];break}""!==l&&(w.removeActiveCssClass(),m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),m(".status-active-panel",r,(function(){}))})))}else"additem"===t?0===e(".panel-group").find(".panel-filter-type").length&&(w.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(a),m(".status-active-panel",r,(function(){}))})):m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(a),m(".status-active-panel",r,(function(){}))}))):"edititem"===t?0===e(".panel-group").find('[data-filter-panel-id="'+n+'"]').length&&(w.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(a),w.addActiveCssClass(n),O.sortEvent(),P.initEditPanelEvent(),m(".status-active-panel",r,(function(){}))})):m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(a),w.addActiveCssClass(n),O.sortEvent(),P.initEditPanelEvent(),m(".status-active-panel",r,(function(){}))}))):"additemtype"===t&&(w.removeActiveCssClass(),e(".panel-group").find(".item-panel").length,m(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),w.appendItem(i),e(".panel-group").append(a),P.initEditPanelEvent(),O.sortEvent(),m(".status-active-panel",r,(function(){}))})))}},P={getSourceOptionsData:function(){var t={doAjax:!1,data:"",args:"",cachedTaxonomyName:""},a="",n="",i="",r=e('[name="source_of_options"]').val();"category"===r?(a=e('[name="item_source_category"]').val(),n="product_cat",i="item_source_category"):"attribute"===r?(n=e('[name="item_source_attribute"]').val(),i="item_source_attribute"):"taxonomy"===r&&(a=e('[name="item_source_taxonomy_sub"]').val(),n=e('[name="item_source_taxonomy"]').val(),i="item_source_taxonomy");var l=r+a+n+i+u;return t.cachedTaxonomyName=l,o.hasOwnProperty(l)?t.data=o[l]:(t.doAjax=!0,t.args={source_of_option:r,taxonomy_name:n,parent:a}),t},DisplayOrHideIncludeExludeFields:function(){var t=e('[name="item_display"]').val(),a=e(".ajax-field-include").closest(".control-group"),n=e(".ajax-field-exclude").closest(".control-group");"selected"==t?(a.show(),n.hide()):"except"==t?(n.show(),a.hide()):(n.hide(),a.hide()),e(".pro-woo-filter").on("change",'[name="item_display"]',(function(){var t=e(this).val();"selected"==t?(a.slideDown("fast"),n.slideUp("fast")):"except"==t?(n.slideDown("fast"),a.slideUp("fast")):(n.slideUp("fast"),a.slideUp("fast"))}))},displayParentOption:function(){var t=e('[name="source_of_options"]').val();"category"===t||"taxonomy"===t?e('[name="item_display"] option[value="parent"]').show():(e('[name="item_display"] option[value="parent"]').hide(),"parent"==e('[name="item_display"]').val()&&e('[name="item_display"]').val("all"))},changeTaxonomyList:function(){var t="",a="",n="item_source_taxonomy",i=e(".ajax-dropdown-field-item_source_taxonomy");if("item_panel"===h()){var r=y(e(".panel-group .item-panel").attr("data-filter-panel-id"));r&&"taxonomy"===r.source_of_options&&(a=r[n])}var l="post_type_"+u+"_taxonomies";if(o.hasOwnProperty(l)){var s=o[l];t=x.ajaxdropdownfield(s,a,n),e(i).empty(),e(i).closest(".control-group").slideDown("fast"),e(i).append(t),P.afterSetItemSourceTaxonomy()}else{e(i).closest(".control-group").addClass("transparent");var c=F("get_taxonomies_using_ajax",{post_type:u,post_type_object:"true",parent:"",source_of_option:"",taxonomy_name:"",add_all_text:""});c.done((function(r){r.data.hasOwnProperty("data")?(o[l]=r.data.data,t=x.ajaxdropdownfield(r.data.data,a,n)):t='<li class="alert-message">'+r.data.message+"</li>",e(i).empty(),e(i).closest(".control-group").slideDown("fast"),e(i).append(t),e(i).closest(".control-group").removeClass("transparent")})),c.fail((function(a,n,o){t='<li class="alert-message">'+v()+"</li>",e(i).empty(),e(i).closest(".control-group").slideDown("fast"),e(i).append(t),e(i).closest(".control-group").removeClass("transparent")})),c.always((function(){P.afterSetItemSourceTaxonomy()}))}},changeTaxonomyDropdowList:function(){var t="",a="",i=e('[name="source_of_options"]').val(),r=e('[name="item_source_taxonomy"]').val(),l=e('[name="item_source_taxonomy_sub"]').val(),s=e(".ajax-dropdown-field-item_source_taxonomy_sub");if("taxonomy"===i){if("item_panel"===h()){var c=y(e(".panel-group .item-panel").attr("data-filter-panel-id"));c&&"taxonomy"===c.source_of_options&&(a=c.item_source_taxonomy_sub)}"undefined"===n(r)&&(r=e('[name="item_source_taxonomy"]').val());var d="taxonomysubchildren"+i+r+l+u;if(o.hasOwnProperty(d)){var p=o[d];t=x.ajaxdropdownfield(p,a,"item_source_taxonomy_sub"),e(s).empty(),e(s).closest(".control-group").slideDown("fast"),e(s).append(t)}else{e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").addClass("transparent");var f=F("get_taxonomies_using_ajax",{parent:l,source_of_option:i,taxonomy_name:r,add_all_text:"true"});f.done((function(n){n.data.hasOwnProperty("data")?(o[d]=n.data.data,t=x.ajaxdropdownfield(n.data.data,a,"item_source_taxonomy_sub")):t='<li class="alert-message">'+n.data.message+"</li>",e(s).empty(),e(s).closest(".control-group").slideDown("fast"),e(s).append(t),e(s).closest(".control-group").removeClass("transparent")})),f.fail((function(a,n,i){t='<li class="alert-message">'+v()+"</li>",e(s).empty(),e(s).closest(".control-group").slideDown("fast"),e(s).append(t),e(s).closest(".control-group").removeClass("transparent")}))}}else e(s).closest(".control-group").slideUp("fast")},changeIncludeExcludeFieldData:function(){var a="",n=[],i="",o="",r="",s=[],c=e('[name="source_of_options"]').val(),d=e('[name="item_display"]').val();if(!["attribute","category","taxonomy","tag","author"].includes(c)||"selected"!=d&&"except"!=d)e(".ajax-field-exclude").closest(".control-group").slideUp("fast"),e(".ajax-field-include").closest(".control-group").slideUp("fast");else{if("category"===c)i=e('[name="item_source_category"]').val(),r="product_cat",o="item_source_category";else if("attribute"===c)r=e('[name="item_source_attribute"]').val(),o="item_source_attribute";else if("taxonomy"===c)i=e('[name="item_source_taxonomy_sub"]').val(),r=e('[name="item_source_taxonomy"]').val(),o="item_source_taxonomy";else if("author"===c){var p=[],f=e('[name="user_roles"]').select2("data");e.each(f,(function(e,t){p.push(t.id)})),p.length&&(s=p)}var m="include";if("except"==d&&(m="exclude"),"item_panel"===h()){var _=y(e(".panel-group .item-panel").attr("data-filter-panel-id"));if(_){var g=_.source_of_options;n=("category"===g&&"category"===c&&i==_[i]||"taxonomy"===g&&"taxonomy"===c&&r==_[o]&&i==_[i]||"attribute"===g&&"attribute"===c&&_[o],_[m])}}var b="hierarchy"+u+c+i+r+o+s.toString(),w=e(".ajax-field-"+m);if(l.hasOwnProperty(b)){var x=l[b];a=t(m,x,n),e(w).empty(),e(w).closest(".control-group").slideDown("fast"),e(w).append(a)}else{e(w).closest(".control-group").addClass("transparent");var k=F("get_hierarchy_taxonomies_using_ajax",{source_of_option:c,taxonomy_name:r,parent:i,user_roles:s});k.done((function(i){i.data.hasOwnProperty("data")?(l[b]=i.data.data,a=t(m,i.data.data,n)):a='<li class="alert-message">'+i.data.message+"</li>",e(w).empty(),e(w).closest(".control-group").slideDown("fast"),e(w).append(a),e(w).closest(".control-group").removeClass("transparent")})),k.fail((function(t,n,i){a='<li class="alert-message">'+v()+"</li>",e(w).empty(),e(w).closest(".control-group").slideDown("fast"),e(w).append(a),e(w).closest(".control-group").removeClass("transparent")}))}}},initEditPanelEvent:function(){e('[name="price_url_format"]').length&&("dash"===e('[name="price_url_format"]:checked').val()?e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").hide():e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").show());e('[name="display_toggle_content"]').is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").show():e('[name="default_toggle_state"]').closest(".control-group").hide(),e('[name="display_title"]').is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").show(),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").show()):(e('[name="display_toggle_content"]').closest(".control-group").hide(),e('[name="default_toggle_state"]').closest(".control-group").hide()),"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").show():e('[name="query_type"]').closest(".control-group").hide(),e(".panel-checkboxlist").length>0&&e('[name="source_of_options"] option[value="orderby"]').hide(),e(".pwf-select2").length>0&&e(".pwf-select2").select2({width:"100%"}),P.displayParentOption(),P.changeTaxonomyList()},afterSetItemSourceTaxonomy:function(){P.changeTaxonomyDropdowList(),P.DisplayOrHideIncludeExludeFields(),P.changeIncludeExcludeFieldData(),P.eventSourceOfOptions(e('[name="source_of_options"]').val(),"fast")},eventSourceOfOptions:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fast",n=[],i=[],o=['[name="meta_key"], [name="meta_compare"], [name="meta_type"]',".pwf-meta-field-box",'[name="range_slider_meta_source"]'],r=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_attribute"]','[name="item_display"]','[name="item_source_orderby"]','[name="product_variations"]','[name="user_roles"]','[name="order_by"]','[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]','[name="more_options_by"]','[name="height_of_visible_content"]','[name="range_slider_meta_source"]',".ajax-dropdown-field-item_source_taxonomy_sub",".ajax-field-include",".ajax-field-exclude",".pwf-meta-field-box"];r=r.concat(o),"on_sale"===t||"featured"===t||"stock_status"===t?n=r:"orderby"===t?i=['[name="item_source_orderby"]']:"author"===t?i=['[name="user_roles"]','[name="item_display"]','[name="more_options_by"]','[name="height_of_visible_content"]','[name="order_by"]']:"category"===t?(n=(n=['[name="item_source_taxonomy"]','[name="item_source_orderby"]','[name="item_source_attribute"]','[name="product_variations"]','[name="user_roles"]',".ajax-dropdown-field-item_source_taxonomy_sub",".pwf-meta-field-box"]).concat(o),e('[name="display_hierarchical"]').is(":checked")||n.push('[name="display_hierarchical_collapsed"]')):"taxonomy"===t?(n=(n=['[name="item_source_category"]','[name="item_source_orderby"]','[name="item_source_attribute"]','[name="product_variations"]','[name="user_roles"]',".pwf-meta-field-box"]).concat(o),e('[name="display_hierarchical"]').is(":checked")||n.push('[name="display_hierarchical_collapsed"]')):"attribute"===t?n=(n=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_orderby"]','[name="user_roles"]',".pwf-meta-field-box",".ajax-dropdown-field-item_source_taxonomy_sub",'[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]']).concat(o):"tag"===t?n=(n=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_attribute"]','[name="item_source_orderby"]','[name="product_variations"]','[name="user_roles"]',".pwf-meta-field-box",".ajax-dropdown-field-item_source_taxonomy_sub",'[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]']).concat(o):"meta"===t&&((i=o).push('[name="more_options_by"]','[name="height_of_visible_content"]'),e(".panel-item.item-panel").hasClass("panel-rangeslider")&&e('[name="meta_key"]').closest(".control-group").slideUp("fast"));var l=["category","taxonomy","attribute","author","tag"];if(l.includes(t)){var s=e('[name="item_display"]').val(),c=!1,d=!1;"selected"==s?(c=!0,d=!1):"except"==s&&(c=!1,d=!0),"author"===t?(c&&i.push(".ajax-field-include"),d&&i.push(".ajax-field-exclude")):(c||n.push(".ajax-field-include"),d||n.push(".ajax-field-exclude"))}if(i.length>0)for(var p=0;p<r.length;p++){var u=r[p];i.includes(u)?P.hideShowField(u,"show",a):P.hideShowField(u,"hide",a)}else for(p=0;p<r.length;p++){var f=r[p];n.includes(f)?P.hideShowField(f,"hide",a):P.hideShowField(f,"show",a)}var m=["scrollbar","morebutton"],_=e('[name="more_options_by"]').val();if(m.includes(_)?e('[name="height_of_visible_content"]').closest(".control-group").show():e('[name="height_of_visible_content"]').closest(".control-group").hide(),e('[name="dropdown_style"]').length>0&&P.dropdownDisplayFields(e('[name="dropdown_style"]').val()),e('[name="depends_on"]').length>0){var v=e('[name="depends_on"]').val();0===v.length&&(v=""),P.dependsOn(v)}},hideShowField:function(t,a,n){"show"===a?"fast"===n?e(t).closest(".control-group").show():e(t).closest(".control-group").slideDown("fast"):"fast"===n?e(t).closest(".control-group").hide():e(t).closest(".control-group").slideUp("fast")},dropdownDisplayFields:function(t){var a=e('[name="source_of_options"]').val();"plugin"===t?("orderby"===a||"stock_status"===a?P.hideShowField('[name="multi_select"]',"hide","slow"):P.hideShowField('[name="multi_select"]',"show","slow"),"category"===a||"taxonomy"===a?(e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast"),"on"===e('[name="multi_select"]:checked').val()?P.hideShowField('[name="query_type"]',"show","slow"):P.hideShowField('[name="query_type"]',"hide","slow")):(P.hideShowField('[name="display_hierarchical"]',"hide","slow"),P.hideShowField('[name="query_type"]',"hide","slow"))):(P.hideShowField('[name="display_hierarchical"]',"hide","slow"),P.hideShowField('[name="multi_select"]',"hide","slow"),P.hideShowField('[name="query_type"]',"hide","slow"))},dependsOn:function(t){""===t?e('[name="depends_on_operator"]').closest(".control-group").slideUp("fast"):e('[name="depends_on_operator"]').closest(".control-group").slideDown("fast")}},O={createMetaFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(Array.isArray(t)||t.length){var a="";return t.forEach((function(t){a+=O.addMetaField(e,t,!1)})),a}},addMetaField:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="",o="",r="",l="";e.isEmptyObject(a)||(o=a.label,r=a.value,l=a.hasOwnProperty("slug")?a.slug:""),!1===n&&(i=" pwf-hide-meta-content");var s='<div class="pwf-meta-item'+i+'">';s+='<div class="pwf-meta-header">',s+='<div class="meta-title">';var c="Title";if(""!==o&&(c=o),s+=c,s+="</div>",s+='<div class="btn-actions">',s+='<span class="btn-link meta-edit pwf-meta-edit-action">'+p.edit+"</span>",s+='<span class="btn-link meta-close pwf-meta-edit-action">'+p.close+"</span>",s+='<span class="btn-link pwf-meta-remove-action">'+p.remove+"</span>",s+="</div>",s+="</div>",s+='<div class="pwf-meta-content">',s+=O.addTextInput(p.label,"metalabel","label",o),s+=O.addTextInput(p.slug,"metaslug","",l),s+=O.addTextInput(p.value,"metavalue","value",r,p.meta_value_desc),"colorlist"===t&&(s+='<div class="pwf-meta-inner color-list colors">'+O.addColorField(a)+"</div>"),s+="</div>",s+="</div>",!n)return s;e(".meta-field-items").append(s),O.refreshSort()},addTextInput:function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o='<div class="pwf-meta-inner">';return o+='<div class="label-container"><span="label-text">'+e+"</span></div>",o+='<div class="input-container">',o+='<input placeholder="'+a+'" type="text" class="form-control full-width text" name="'+t+'" value="'+n+'"/>',o+=""===i?"":'<div class="pwf-meta-desc">'+i+"</div>",o+="</div>",o+="</div>"},addColorField:function(e){var t="",a=e.hasOwnProperty("color")?e.color:"",n=e.hasOwnProperty("image")?e.image:"",i=e.hasOwnProperty("type")?e.type:"",o=e.hasOwnProperty("bordercolor")?e.bordercolor:"",r=e.hasOwnProperty("marker")?e.marker:"light",l=Math.floor(1e5*Math.random());t+='<div class="color-item">',t+='<div class="color-inner">',t+='<div class="color-term-header">',t+='<div class="preview-term-container"><div class="preview-holder"'+("color"===i&&""!==a?" style=background-color:"+a:"")+">","image"===i&&""!==n&&(t+='<img class="preview-image" src="'+n+'">'),t+="</div></div>",t+="</div>",t+='<div class="color-term-content">',t+='<div class="inner-fields">';var s="color"===i?"":" hidden";t+='<div class="container list-container">',t+='<div class="color-container'+s+'">',t+='<div class="header"><span class="text">'+p.color+"</span></div>",t+='<div class="content">',t+='<input type="text" name="color" class="color-field" value="'+a+'"/>',t+="</div>",t+="</div>",t+='<div class="image-container'+(s="image"===i?"":" hidden")+'">',t+='<div class="header"><span class="text">'+p.image+"</span></div>",t+='<div class="content">',t+='<input type="text" name="image" class="text hidden image-field" value="'+n+'"/>',t+='<button class="button btn-upload-image">'+p.upload_image+"</button>",t+="</div>",t+="</div>",t+="</div>",t+='<div class="type-container list-container">',t+='<div class="header"><span class="text">'+p.type+"</span></div>",t+='<div class="content"><div class="radio-as-button">';var c="color"===i?" checked":"";return t+='<span class="field-type"><input type="radio" class="type-field" name="type'+l+'" value="color"'+c+'/> <label for="color">'+p.color+"</label></span>",t+='<span class="field-type"><input type="radio" class="type-field" name="type'+l+'" value="image"'+(c="image"===i?" checked":"")+'/> <label for="image">'+p.image+"</label></span>",t+="</div></div>",t+="</div>",t+="</div>",t+='<div class="inner-fields">',t+='<div class="border-container list-container">',t+='<div class="header"><span class="text">'+p.border+"</span></div>",t+='<div class="content"><div class="wrap-color">',t+='<input type="text" class="bordercolor-field" name="bordercolor" class="color-field" value="'+o+'"/>',t+="</div></div>",t+="</div>",t+='<div class="marker-container list-container">',t+='<div class="header"><span class="text">'+p.marker+"</span></div>",t+='<div class="content"><div class="radio-as-button">',t+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+l+'" value="light"'+(c="light"===r?" checked":"")+'/> <label lass="field-type-text">'+p.marker_light+"</label></span>",t+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+l+'" value="dark"'+(c="dark"===r?" checked":"")+'/> <label lass="field-type-text">'+p.marker_dark+"</label></span>",t+="</div></div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>"},removeMetaField:function(t){e(t).closest(".pwf-meta-item").remove()},editMetaField:function(t){e(t).closest(".pwf-meta-item").toggleClass("pwf-hide-meta-content")},sortEvent:function(){e(".meta-field-items").sortable({connectWith:".meta-field-items",handle:".pwf-meta-header",cancel:".pwf-meta-toggle",placeholder:"pwf-meta-placeholder"})},refreshSort:function(){e(".meta-field-items").sortable("refresh")},colorFieldEvent:function(){e(".pwf-meta-item .color-field").wpColorPicker({border:!0,change:function(t,a){e(this).closest(".color-item").find(".preview-image").length>0&&e(this).closest(".color-item").find(".preview-image").remove(),e(this).closest(".color-item").find(".preview-holder").css("background-color",a.color.toString()),j.addAttributeRequiredValidate("item_panel","true")}}),e(".pwf-meta-item .bordercolor-field").wpColorPicker({border:!0,change:function(e,t){j.addAttributeRequiredValidate("item_panel","true")}})}},j={addAttributeRequiredValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;""===t&&(t=h()),"item_panel"===t?e(".panel-group .item-panel").attr("data-required-validate",a):e(".panel-group .setting-panel").attr("data-required-validate",a),"true"===a?"item_panel"===t?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!1):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!1):"false"===a&&("item_panel"===t?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!0):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!0))},hasPanelRequiredValidate:function(t){if("item_panel"===t)var a=e(".panel-group").find(".item-panel").attr("data-required-validate");else a=e(".panel-group").find(".setting-panel").attr("data-required-validate");return"true"===a},checkFieldHasValue:function(e){return void 0!==n(e)&&!1!==e&&""!==e?e:""},addActiveLoader:function(){e(".pwf-overlay").length>0?e(".pwf-overlay").removeClass("pwf-unactive").addClass("pwf-active"):e("body").prepend('<div class="pwf-overlay pwf-active"><span class="pwf-loader"></span></div>')},removeActiveLoader:function(){e(".pwf-overlay").removeClass("pwf-active").addClass("pwf-unactive")},processingPanel:function(){j.addActiveLoader();var e=!1,t=h();return j.hasPanelRequiredValidate(t)?j.validatePanelData(t)?(j.addAttributeRequiredValidate(t,"false"),j.savePanelData(t),e=!0):(alert(p.alert_message),j.addAttributeRequiredValidate(t,"true"),e=!1):e=!0,j.removeActiveLoader(),e},validatePanelData:function(t){var a=!0,i="";if("item_panel"===t){e(".option-panel-form .alert-danger").length>0&&e(".option-panel-form .alert-danger").remove();var o=e("form.option-panel-form :input");i=e(".option-panel-form").closest(".panel-item").attr("data-filter-panel-id")}else{e(".setting-panel-form .alert-danger").length>0&&e(".setting-panel-form .alert-danger").remove();o=e(".setting-panel-form :input")}var r=e(".item-panel").attr("data-panel-type");if("rangeslider"===r){var l='input[name="url_key_range_slider_min"], input[name="url_key_range_slider_max"]';"two"!==e('input[name="range_slider_url_format"]:checked').attr("value")?e(l).removeAttr("aria-required"):e(l).attr("aria-required","true")}else if("priceslider"===r){var s='input[name="url_key_min_price"], input[name="url_key_max_price"]';"two"!==e('input[name="price_url_format"]:checked').attr("value")?e(s).removeAttr("aria-required"):e(s).attr("aria-required","true")}return o.each((function(t,o){var r=e(o).attr("aria-required");if("undefined"!==n(r)&&!1!==r){var l=e(o).val();if(!l)return a=!1,!e(o).closest(".control-content").find(".alert-danger").length>0&&e(o).closest(".control-content").append('<div class="alert-danger" role="alert">'+p.required_field+"</div>"),a;var s=e(o).attr("name");if(["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(s))if(!1===g.init(l,i))return a=!1,!e(o).closest(".control-content").find(".alert-danger").length>0&&e(o).closest(".control-content").append(_()),a}})),a},getValidatePanelData:function(t){var a={};return e(t).each((function(t,n){if("multicheckbox"===n.type||"ajaxmulticheckboxlist"===n.type){var i=[];e.each(e('input[name="'+n.param_name+'"]:checked'),(function(){i.push(e(this).val())})),a[n.param_name]=i}else if("switchbutton"===n.type){var o="";e('input[name="'+n.param_name+'"]').is(":checked")&&(o=e('input[name="'+n.param_name+'"]').val()),a[n.param_name]=o}else if("radio"===n.type){var r;r=e('input[name="'+n.param_name+'"]:checked').attr("value"),a[n.param_name]=r}else if("ajaxdropdownselect2"===n.type){var l=[],s=e('[name="'+n.param_name+'"]').select2("data");e.each(s,(function(e,t){l.push(t.id)})),a[n.param_name]=l}else{var c=e(".panel-group").find("[name="+n.param_name+"]").val();a[n.param_name]=c||""}})),a},savePanelData:function(t){if("item_panel"===t){var o=e(".panel-group .item-panel").attr("data-panel-type"),r=e(".panel-group .item-panel").attr("data-filter-panel-id"),l=k.getPanelFields(o),s=l.general,c=l.visual,p=e.merge(s,c),u=j.getValidatePanelData(p);if("meta"===u.source_of_options&&e(".meta-field-items").find(".pwf-meta-item").length>0){var f=[],m=e(".pwf-meta-item");e(m).each((function(t,a){var n=e(a).find('[name="metalabel"]').val(),i=e(a).find('[name="metaslug"]').val(),o=e(a).find('[name="metavalue"]').val();if(n.length&&o.length){var r={label:n,slug:i,value:o};e(".panel-colorlist").length>0&&(r.color=j.checkFieldHasValue(e(a).find(".color-field").val()),r.image=j.checkFieldHasValue(e(a).find(".image-field").val()),r.type=j.checkFieldHasValue(e(a).find(".type-field:checked").attr("value")),r.bordercolor=j.checkFieldHasValue(e(a).find(".bordercolor-field").val()),r.marker=j.checkFieldHasValue(e(a).find(".marker-field:checked").attr("value"))),f.push(r)}})),u.metafield=f}else u.metafield="";if("meta"!==u.source_of_options&&e(".panel-colorlist").length>0){var _=[];e(".color-item").each((function(t,a){var n=e(a).attr("term-id");if(n){var i={term_id:n,color:j.checkFieldHasValue(e(a).find(".color-field").val()),image:j.checkFieldHasValue(e(a).find(".image-field").val()),type:j.checkFieldHasValue(e(a).find(".type-field:checked").attr("value")),bordercolor:j.checkFieldHasValue(e(a).find(".bordercolor-field").val()),marker:j.checkFieldHasValue(e(a).find(".marker-field:checked").attr("value"))};_.push(i)}})),u.colors=_}else u.colors="";if(e(".panel-boxlist").length>0){var v=[];e(".lable-item").each((function(t,a){var i=e(a).find(".item-value").val(),o=e(a).attr("data-item-label-id");if(void 0!==n(i)&&!1!==i&&""!==i&&void 0!==n(o)&&!1!==o&&""!==o){var r={term_id:o,value:i};v.push(r)}})),u.boxlistlabel=v}if(e(".pwf-rule").length>0){var h=[];e(".pwf-rule").each((function(t,a){var n=e(a).find(".field-rule-param").val(),i=e(a).find(".field-rule-value-select2").val();if(""!==i){var o={param:n,value:i};h.push(o)}})),Array.isArray(h)&&h.length?u.hidden_rules=h:u.hidden_rules=""}u.item_type=o,i[r]=u,e(".filters-list").find("[data-filter-id="+r+"]").find(".filter-title").text(u.title)}else{var g=[];for(var y in d){var b=d[y];g=g.concat(b.fields)}var w=(a=j.getValidatePanelData(g)).post_title;e(".wp-heading-inline .heading-filter-title").length>0?e(".wp-heading-inline .heading-filter-title").text(w):e(".wp-heading-inline").append('<span class="heading-filter-title">'+w+"</span>")}}},T=0;function C(){if(j.processingPanel()){var t,o;o=function t(a){var o={};return e(a).each((function(a,r){var l=e(r).attr("data-filter-id"),s=e(r).attr("data-layout");if("undefined"!==n(s)&&!1!==s&&"column"===s){var c=i[l],d=e(r).find(".column-inner").first().children(".filter-item"),p="id-"+T;T++,!e.isEmptyObject(d)&&d.length>0?(c.children=t(d),o[p]=c):(c.children={},o[p]=c)}else o["id-"+T]=i[l],T++})),o}(e(".filters-list").children(".filter-item")),T=0,t={setting:a,items:o};var r="";if("edit"===c.current_screen&&(r=c.post_id),!1===f)if(!e.isEmptyObject(o))0===a.filter_display_pages.length&&(f=!0,alert('Please Select page/s where you need to display this filter. click the tab "query type" and set the option "pages"'));return e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"save_filter_post",nonce:c.nonce,data:JSON.stringify(t),post_id:r},beforeSend:function(){j.addActiveLoader(),e(".filters-btn").find(".message").length>0&&e(".filters-btn").find(".message").remove()}}).done((function(t){"true"===t.success?("edit"!==c.current_screen&&(c.current_screen="edit",c.post_id=t.post_id,function(e){if(c.hasOwnProperty("edit_link")){var t=c.edit_link;t=t.replace("post_id",e),window.location.href=t}}(t.post_id)),e(".filters-btn").prepend('<span class="message success-message">'+p.filter_post_updated+"</span>"),setTimeout((function(){e(".filters-btn").find(".message").remove()}),1e4)):e(".filters-btn").prepend('<span class="message error-message">'+t.message+"</span>")})).fail((function(t,a,n){e(".filters-btn").prepend('<span class="message error-message">'+p.error+" : "+n+"</span>")})).always((function(){j.removeActiveLoader()})),!1}}function F(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i={action:t,nonce:c.nonce};return"get_hierarchy_taxonomies_using_ajax"===t||"get_taxonomies_using_ajax"===t?(i.source_of_option=a.source_of_option,i.taxonomy_name=a.taxonomy_name,i.parent=a.parent,"get_taxonomies_using_ajax"===t&&a.hasOwnProperty("add_all_text")&&(i.add_all_text=a.add_all_text),a.hasOwnProperty("user_roles")&&(i.user_roles=a.user_roles),a.hasOwnProperty("post_type_object")&&(i.post_type_object=a.post_type_object)):"get_group_taxonomies_using_ajax"===t&&(i.source=n),i.post_type=u,e.ajax({type:"POST",async:!0,dataType:"json",url:ajaxurl,data:i})}var S={init:function(){var t;e(".pro-woo-filter").on("click",".reset-panel-button",(function(e){e.preventDefault(),k.resetPanel()})),e(".pro-woo-filter").on("click",".apply-panel-button",(function(e){e.preventDefault(),k.apply_panel_button()})),e(".pro-woo-filter").on("click",".filters-btn .add-item",(function(e){if(e.preventDefault(),j.processingPanel()){var t=(a="",n=p.select_filter_item,i=[{panelLabel:p.field,panelItems:[{id:"checkboxlist",text:p.checkboxlist,postType:"all",isPro:!1},{id:"radiolist",text:p.radiolist,postType:"all",isPro:!1},{id:"dropdownlist",text:p.dropdownlist,postType:"all",isPro:!1},{id:"colorlist",text:p.colorlist,postType:"all",isPro:!0},{id:"boxlist",text:p.boxlist,postType:"all",isPro:!0},{id:"textlist",text:p.textlist,postType:"all",isPro:!0},{id:"date",text:p.date,postType:"all",isPro:!0},{id:"priceslider",text:p.priceslider,postType:"woocommerce",isPro:!1},{id:"rangeslider",text:p.range_slider,postType:"all",isPro:!0},{id:"rating",text:p.rating,postType:"woocommerce",isPro:!1},{id:"search",text:p.search,postType:"all",isPro:!0},{id:"button",text:p.button,postType:"all",isPro:!1}]},{panelLabel:p.preset,panelItems:[{id:"productcategories",text:p.categories,postType:"woocommerce",isPro:!1},{id:"stockstatus",text:p.stockstatus,postType:"woocommerce",isPro:!0}]},{panelLabel:p.layout,panelItems:[{id:"column",text:p.column,isPro:!0}]}],a+='<div class="panel-item panel-filter-type postbox status-active-panel">',a+='<div class="panel-container">',a+='<div class="panel-header">',a+='<div class="wrap-title"><span class="link-back">< '+p.btn_back+'</span><h2 class="panel-title">'+n+"</h2></div>",a+="</div>",i.forEach((function(e){a+='<div class="pwf-items-list">',a+='<div class="pwf-items-lable">'+e.panelLabel+"</div>",a+='<div class="pwf-items-content pwf-flex-content">',e.panelItems.forEach((function(e){var t="pwf-flex-item add-new-element";(e.hasOwnProperty("isPro")&&!0===e.isPro||"product"!==u&&"woocommerce"===e.postType)&&(t+=" field-disabled"),a+='<div class="'+t+'" data-item-type="'+e.id+'">',a+='<div class="pwf-item-inner">',a+='<div class="filter-type-text">'+e.text+"</div>",e.hasOwnProperty("isPro")&&!0===e.isPro?a+='<spane class="disabled-text">PRO Only</span>':"product"!==u&&"woocommerce"===e.postType&&(a+='<spane class="disabled-text">Woocommerce Only</span>'),a+="</div></div>"})),a+="</div>",a+="</div>"})),a+="</div>",a+="</div>");k.displayPanel("additem",t)}var a,n,i})),e(".pro-woo-filter").on("click",".save-project",(function(e){e.preventDefault(),C()})),e(".pro-woo-filter").on("change input",".setting-panel-form :input, ul.list input",(function(t){t.preventDefault(),j.addAttributeRequiredValidate("setting_panel","true");var a=e(this).closest(".control-content").find(".alert-danger");a&&a.remove()})),e(".pro-woo-filter").on("change input click",".option-panel-form :input, .image-field, .type-field, .bordercolor-field, .marker-field, ul.list input",(function(t){var a=e(this).attr("name");if(!["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(a)){j.addAttributeRequiredValidate("item_panel","true");var n=e(this).closest(".control-content").find(".alert-danger");n&&n.remove()}})),e(".pro-woo-filter").on("click",".setting-panel .panel-header .nav-tab-heading",(function(t){t.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab").addClass("active-tab");var a=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+a+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("click",".btn-actions .edit-action",(function(t){t.preventDefault(),k.editPanel(e(this))})),e(".pro-woo-filter").on("click",".btn-actions .remove-action",(function(t){t.preventDefault(),!0===confirm("Are you sure you want to remove this item?")&&w.removeItem(e(this))})),e(".pro-woo-filter").on("click",".link-back",(function(e){e.preventDefault(),k.backLinkButton()})),e(".pro-woo-filter").on("click",".panel-group .add-new-element",(function(t){if(t.preventDefault(),e(this).hasClass("field-disabled"))return!1;var a=e(this).attr("data-item-type"),n=w.generateFilterItemID(),i={panelType:a,FilterItemID:n,requireValidate:"true",predefinedPanel:""},o="",r="";"column"===a||("productcategories"===a?(i.panelType="checkboxlist",i.predefinedPanel="productcategories"):"stockstatus"===a&&(i.panelType="radiolist",i.predefinedPanel="stockstatus"),o=k.init(i),r=w.addNewItem(i.panelType,n)),k.displayPanel("additemtype",o,"",r)})),e(".pro-woo-filter").on("change",".type-field",(function(t){var a=e(this).val(),n=e(this).closest(".inner-fields");"color"===a?(e(n).find(".color-container").show(),e(n).find(".image-container").hide()):(e(n).find(".color-container").hide(),e(n).find(".image-container").show())})),e(".panel-group").on("change input click",":input",(function(e){j.addAttributeRequiredValidate("item_panel","true")})),e(".pro-woo-filter").on("click",".btn-upload-image",(function(a){a.preventDefault();var n=this;(t=wp.media.frames.metaImageFrame=wp.media({button:{text:p.upload_image}})).on("select",(function(){var a=t.state().get("selection").first().toJSON();e(n).closest(".image-container").find(".image-field").val(a.url).trigger("input"),e(n).closest(".color-item").find(".preview-image").length>0&&e(n).closest(".color-item").find(".preview-image").remove(),e(n).closest(".color-item").find(".preview-holder").append('<img class="preview-image" src="'+a.url+'">')})),t.open()})),e(".pro-woo-filter").on("click",".panel-container .panel-header .nav-tab-heading",(function(t){t.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab"),e(this).addClass("active-tab");var a=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+a+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("change",'[name="user_roles"], [name="item_display"], [name="source_of_options"], [name="item_source_category"], [name="item_source_taxonomy_sub"], [name="item_source_attribute"], [name="item_source_taxonomy"]',(function(t){var a=e(this).attr("name");"source_of_options"!==a&&"item_source_taxonomy"!==a||P.changeTaxonomyDropdowList(),P.changeIncludeExcludeFieldData()})),e(".pro-woo-filter").on("input",'[name="url_key"], [name="url_key_min_price"], [name="url_key_max_price"], [name="url_key_date_before"], [name="url_key_date_after"], [name="url_key_range_slider_min"], [name="url_key_range_slider_max"]',(function(t){t.preventDefault();var a=e(this).closest(".panel-item").attr("data-filter-panel-id");g.init(e(this).val(),a)?e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").find(".alert-danger").remove():!e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").append(_())})),e(".pro-woo-filter").on("change",".field-rule-param",(function(t){var a=this,n=e(this).val();if("category"===n){var i=c.product_categories;e(a).closest(".rule").find(".field-rule-value-select2").empty().select2({data:i,width:"100%"})}else if(r.hasOwnProperty(n))e(a).closest(".rule").find(".field-rule-value-select2").empty().select2({data:r[n],width:"100%"});else{var o=F("get_group_taxonomies_using_ajax","",n);o.done((function(t){r[n]=t.data.data,e(a).closest(".rule").find(".field-rule-value-select2").empty().select2({data:t.data.data,width:"100%"})})),o.fail((function(e,t,a){}))}})),e(".pro-woo-filter").on("change",'[name="price_url_format"]',(function(t){var a='[name="url_key_min_price"], [name="url_key_max_price"]';"dash"===e(this).val()?e(a).closest(".control-group").slideUp("fast"):e(a).closest(".control-group").slideDown("fast"),j.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="range_slider_url_format"]',(function(t){var a='[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]';"dash"===e(this).val()?e(a).closest(".control-group").slideUp("fast"):e(a).closest(".control-group").slideDown("fast"),j.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="source_of_options"]',(function(t){P.eventSourceOfOptions(e(this).val(),"slow"),P.displayParentOption(),j.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="display_hierarchical"]',(function(t){var a=e('[name="display_hierarchical_collapsed"]').closest(".control-group");e(this).is(":checked")?e(a).slideDown("fast"):e(a).slideUp("fast")})),e(".pro-woo-filter").on("change",'[name="dropdown_style"]',(function(t){P.dropdownDisplayFields(e(this).val())})),e(".pro-woo-filter").on("change",'[name="inline_style"]',(function(t){e(this).is(":checked")?e('[name="display_hierarchical"]').closest(".control-group").slideUp("fast"):e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast")})),e(".pro-woo-filter").on("change",'[name="display_title"]',(function(t){e(this).is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").slideDown("fast"),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast")):(e('[name="display_toggle_content"]').closest(".control-group").slideUp("fast"),e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast"))})),e(".pro-woo-filter").on("change",'[name="display_toggle_content"]',(function(t){e(this).is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast"):e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("change",'[name="multi_select"]',(function(t){"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").slideDown():e('[name="query_type"]').closest(".control-group").slideUp()})),e(".pro-woo-filter").on("change",'[name="more_options_by"]',(function(t){var a=e(this).val();["scrollbar","morebutton"].includes(a)?e('[name="height_of_visible_content"]').closest(".control-group").slideDown("fast"):e('[name="height_of_visible_content"]').closest(".control-group").slideUp("fast")}));var a=[];e.each(e('input[name="usecomponents"]:checked'),(function(){a.push(e(this).val())})),S.checkUseComponents(a),e(".pro-woo-filter").on("change",'[name="usecomponents"]',(function(t){var a=[];e.each(e('input[name="usecomponents"]:checked'),(function(){a.push(e(this).val())})),S.checkUseComponents(a)})),e(".pro-woo-filter").on("click","transparent",(function(e){e.preventDefault()})),e(".pro-woo-filter").on("change",'[name="display_filter_as"]',(function(t){S.displayFilterAs(e(this).val())})),S.displayFilterAs(e('[name="display_filter_as"]').val()),e(".pro-woo-filter").on("change",'[name="responsive"]',(function(e){S.isResponsive("off")})),S.isResponsive(e('[name="responsive"]:checked').val()),e(".pro-woo-filter").on("change",'[name="range_slider_meta_source"]',(function(t){"custom"===e(this).val()?e('[name="meta_key"]').closest(".control-group").slideDown():e('[name="meta_key"]').closest(".control-group").slideUp()})),e(".pro-woo-filter").on("change",'[name="filter_query_type"]',(function(t){S.setFilterQueryType(e(this).val())})),S.setFilterQueryType(e('[name="filter_query_type"]').val()),e(".pro-woo-filter").on("change",'[name="shortcode_type"]',(function(t){S.setShortcodeType(e(this).val())})),S.setShortcodeType(e('[name="shortcode_type"]').val()),e(".pro-woo-filter").on("change",'[name="depends_on"]',(function(t){var a=e(this).select2("data");0===a.length&&(a=""),P.dependsOn(a)})),e(".pro-woo-filter").on("change",'[name="post_type"]',(function(t){u=e(this).val(),s={}}))},checkUseComponents:function(t){t.includes("pagination")?(e('[name="pagination_selector"]').attr("aria-required","true"),e('[name="pagination_selector"]').closest(".control-group").show(),e('[name="pagination_ajax"], [name="pagination_type"]').closest(".control-group").slideDown()):(e('[name="pagination_selector"]').closest(".control-group").hide(),e('[name="pagination_selector"]').removeAttr("aria-required"),e('[name="pagination_ajax"], [name="pagination_type"]').closest(".control-group").slideUp()),t.includes("sorting")?(e('[name="sorting_selector"]').closest(".control-group").show(),e('[name="sorting_selector"]').attr("aria-required","true"),e('[name="sorting_ajax"]').closest(".control-group").slideDown()):(e('[name="sorting_selector"]').closest(".control-group").hide(),e('[name="sorting_selector"]').removeAttr("aria-required"),e('[name="sorting_ajax"]').closest(".control-group").slideUp()),t.includes("results_count")?(e('[name="result_count_selector"]').closest(".control-group").show(),e('[name="result_count_selector"]').attr("aria-required","true")):(e('[name="result_count_selector"]').closest(".control-group").hide(),e('[name="result_count_selector"]').removeAttr("aria-required"))},displayFilterAs:function(t){"button"===t?e('[name="filter_button_state"]').closest(".control-group").slideDown("fast"):e('[name="filter_button_state"]').closest(".control-group").slideUp("fast")},isResponsive:function(t){var a='[name="responsive_filtering_starts"], [name="responsive_append_sticky"], [name="responsive_width"]';"on"===t?e(a).closest(".control-group").slideDown("fast"):e(a).closest(".control-group").slideUp("fast")},setFilterQueryType:function(t){"main_query"===t?e('[name="shortcode_type"]').closest(".control-group").slideUp("fast"):e('[name="shortcode_type"]').closest(".control-group").slideDown("fast"),S.setShortcodeType(e('[name="shortcode_type"]').val())},setShortcodeType:function(t){var a=e('[name="filter_query_type"]').val();"default_woocommerce"===t&&"custom_query"===a?e('[name="shortcode_string"]').closest(".control-group").slideDown("fast"):e('[name="shortcode_string"]').closest(".control-group").slideUp("fast")}};if(c.hasOwnProperty("filter_meta")){var q=JSON.parse(c.filter_meta);""!==q.setting&&"false"!==q.setting&&(a=q.setting).hasOwnProperty("post_type")&&(u=a.post_type),""!==q.items&&null!==q.items?w.createFilterItems(q.items):w.initSortEvent(),P.initEditPanelEvent(),e(".pro-woo-filter").length>0&&e("#publishing-action").closest(".postbox ").hide()}if("edit"===c.current_screen){var D=q.setting.post_title;e(".wp-heading-inline").append('<span class="heading-filter-title">'+D+"</span>")}S.init()}(jQuery)}]);